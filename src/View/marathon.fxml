<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controller.MarathonController">

    <!-- CENTER: Title + race area -->
    <center>
        <VBox alignment="CENTER" spacing="15">
            <Label text="Marathon Simulator"
                   style="-fx-font-size: 24px; -fx-font-weight: bold;" />

            <!-- Race area: basic track layout (4 lanes) -->
            <AnchorPane fx:id="racePane"
                        prefWidth="800" prefHeight="300"
                        style="-fx-border-color: black; -fx-border-width: 2;
                               -fx-background-color: #f5f5f5;">

                <children>
                    <!-- Outer track background -->
                    <Rectangle x="20" y="20" width="760" height="260"
                               fill="white"
                               stroke="black"
                               strokeWidth="1.5" />

                    <!-- Green start strip on the left -->
                    <Rectangle x="20" y="20" width="30" height="260"
                               fill="#2ecc71" />

                    <!-- Four-lane track (3 internal dividers) -->

                    <!-- Divider between lane 1 and 2 -->
                    <Line startX="50" startY="80" endX="780" endY="80"
                          stroke="black" strokeWidth="1" />

                    <!-- Divider between lane 2 and 3 -->
                    <Line startX="50" startY="140" endX="780" endY="140"
                          stroke="black" strokeWidth="1" />

                    <!-- Divider between lane 3 and 4 -->
                    <Line startX="50" startY="200" endX="780" endY="200"
                          stroke="black" strokeWidth="1" />

                    <!-- Temporary finish line (will improve later) -->
                    <Line startX="730" startY="20" endX="730" endY="280"
                          stroke="black" strokeWidth="2" />
                </children>
            </AnchorPane>
        </VBox>
    </center>

    <!-- BOTTOM: buttons on the left, status on the right -->
    <bottom>
        <BorderPane prefHeight="150">

            <!-- Buttons (left) -->
            <left>
                <HBox spacing="10" alignment="CENTER_LEFT"
                      BorderPane.alignment="CENTER_LEFT"
                      style="-fx-padding: 10;">
                    <children>
                        <Button fx:id="startButton"
                                text="Start"
                                onAction="#handleStart" />
                        <Button fx:id="pauseButton"
                                text="Pause"
                                onAction="#handlePause" />
                        <Button fx:id="resetButton"
                                text="Reset"
                                onAction="#handleReset" />
                        <Button fx:id="exitButton"
                                text="Exit"
                                onAction="#handleExit" />
                    </children>
                </HBox>
            </left>

            <!-- Status / message area (right) -->
            <center>
                <VBox spacing="5" style="-fx-padding: 10;">
                    <children>
                        <Label fx:id="messageLabel"
                               text="Marathon Status"
                               style="-fx-font-weight: bold;" />
                        <TextArea fx:id="messageArea"
                                  prefRowCount="3"
                                  wrapText="true"
                                  editable="false" />
                    </children>
                </VBox>
            </center>

        </BorderPane>
    </bottom>

</BorderPane>
